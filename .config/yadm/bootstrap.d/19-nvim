#!/bin/bash


# install latest nvim from appimage
neovim_appimage_url=https://github.com/neovim/neovim/releases/download/stable/nvim.appimage
cd ~/.local/bin/
curl -LO $neovim_appimage_url
chmod +x nvim.appimage
cd -

if [ ! -f ~/.local/bin/nvim ]; then
  ln -s ~/.local/bin/nvim.appimage ~/.local/bin/nvim

  # set nvim as vim alternative
  sudo update-alternatives --install $(which vim) vim ~/.local/bin/nvim 10
  sudo update-alternatives --set vim ~/.local/bin/nvim
fi

# install providers
pip install --upgrade \
  pynvim \
  proselint \
  openai


# LSP servers for python and ruby are installed using pyenv and rbenv

# install LSP deps for C++ and dictionaries
sudo apt install -y \
    aspell \
    aspell-en \
    aspell-es \
    clangd-14 \
    clang-format \
    clang-tools \
    clang-tidy

# install LSP server for HTML
npm install -g \
  vscode-langservers-extracted \
  livedown \
  prettier \
  remark-cli \
  remark-toc \
  remark-preset-lint-consistent \
  remark-preset-lint-recommended
